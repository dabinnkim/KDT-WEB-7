<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방명록 만들기</title>
</head>
<body>
    <h1>여기는 방명록!!</h1>
    <form action="/" id="form">
        <label>작성자 <input id='writer' type="text"></label><br/>
        <label>내용 <input id='content' type="text"></label><br/>
        <button id="btn">등록</button>
    </form>
    <br>
    <table id='table' cellpadding="10" border='1' style="border:1px solid black">
        <tr id="tr">
            <th>작성자</th>
            <th>내용</th>
            <th>작성일</th>
        </tr>
    </table>



    <script>
        let date = new Date()
        let year = date.getFullYear() //현재 연도
        let month = date.getMonth()+1  //현재 월 *월은 0부터 시작하므로 +1 해줘야함
        let day = date.getDate() //현재 일
        let hour = date.getHours() //현재 시간
        let minute = date.getMinutes() //현재 분

        const current = `${year}-${month}-${day} ${hour}:${minute}` //현재 날짜, 시간

        const form = document.querySelector('#form')
        const writer = document.querySelector('#writer')
        const content = document.querySelector('#content')
        const btn = document.querySelector('#btn')

        const tr = document.querySelector('#tr')      

        //writer, content의 값들을 테이블에 넣어야됨
        form.addEventListener('submit',function(e){
            e.preventDefault() //새로고침 방지
        

            //태그생성
            const tdTagChild1 =document.createElement('td') 
            const tdTagChild2 =document.createElement('td') 
            const tdTagChild3 =document.createElement('td') 
            const trTag =document.createElement('tr') //기존 tr에 형제로 넣을 tr 태그
            //자식요소로 넣기
            tr.after(trTag) //tr을 기존tr의 형제 요소로 넣고
            // trTag.setAttribute('id','tr')
            trTag.appendChild(tdTagChild1) //td 3개를 tr의 자식 요소로 넣기
            tdTagChild1.innerHTML=`${writer.value}` //작성자

            trTag.appendChild(tdTagChild2); 
            tdTagChild2.innerHTML=`${content.value}` //내용

            trTag.appendChild(tdTagChild3);
            tdTagChild3.innerHTML=`${current}` //현재
        })
    </script>
</body>
</html>